# WX2XHS 卡片生成器 - AI 使用指南

> 本文档专为 AI 助手编写，帮助 AI 理解本工具的使用方法和最佳实践。

## 📖 工具概述

WX2XHS 是一个将长文转换为小红书风格图片卡片的工具。输出尺寸为 3:4 竖版。

**核心流程**：输入文本 → 手动分页 → 调整排版 → 导出图片

---

## 🎯 AI 的核心任务

当用户提供长文时，AI 需要帮助用户：
1. **合理分页**：在适当位置插入 `---` 分页符
2. **格式化文本**：使用 Markdown 标记重点内容
3. **优化可读性**：调整段落结构、添加标题层级
4. **建议排版**：根据文字量推荐字号/行高/段距

---

## ✍️ 支持的 Markdown 格式

### 基础格式
| 语法 | 效果 | 建议用途 |
|------|------|----------|
| `**粗体**` | **粗体** | 重点强调、标题 |
| `*斜体*` | *斜体* | 引用、外文 |
| `__下划线__` | 下划线 | 关键词标注 |
| `==高亮==` | 黄色高亮 | 核心观点、金句 |

### 标题层级
```
# 一级标题    → 核心主题（建议每张卡片最多1个）
## 二级标题   → 分论点
### 三级标题  → 小节标题
```

### 特殊标记
- `---`：**强制分页符**（必须独占一行）
- `[IMG:id]`：图片占位符（由系统自动生成）

---

## 📐 排版控制参数

| 参数 | 范围 | 默认值 | 调整建议 |
|------|------|--------|----------|
| 字号 | 32-60px | 32px | 文字多→减小；文字少→增大 |
| 行高 | 1.2-2.5 | 1.6 | 长段落→增大；短句→可减小 |
| 段距 | 0.5-3em | 1.2em | 段落多→减小；段落少→增大 |

### 字数与字号的对应关系（经验值）
| 每页字数 | 推荐字号 |
|----------|----------|
| <100字 | 52-60px |
| 100-150字 | 46-52px |
| 150-200字 | 42-46px |
| 200-250字 | 38-42px |
| >250字 | 32-38px（注意可读性） |

---

## 📏 分页策略

### 理想的单页内容量
- **目标**：每页 120-180 字（含标点）
- **上限**：不超过 250 字（否则字号过小）
- **下限**：不少于 60 字（否则页面太空）

### 分页点选择原则
1. **语义完整**：在完整段落或论点结束处分页
2. **内容平衡**：相邻页面字数不要相差太大
3. **节奏感**：可在高潮/转折处分页制造悬念
4. **标题开头**：一级/二级标题建议放在新页开头

### 不良分页示例
❌ 句子中间断开
❌ 一页只有一行字
❌ 一页塞满300+字

---

## 🖼️ 图片使用说明

### 插入方式
用户可通过以下方式添加图片：
- 粘贴 (Ctrl/Cmd+V)
- 点击「📷 图片」按钮上传

### 图片占位符
插入后，文本中显示 `[IMG:xxxxxxxx]`（8位短ID），实际图片存储在内存中。

### 图片渲染效果
- 宽度：100%（撑满卡片宽度，减去两侧内边距）
- 居中显示
- 圆角 8px
- 上下间距 0.8em

### 图片使用建议
- 每张卡片最多 1-2 张图片
- 图片适合放在段落之间，不宜打断句子
- 纯文字卡片通常更易阅读

---

## 🎨 美观性优化建议

### DO（推荐）
- ✅ 适度使用 `==高亮==` 标记金句（1-2处/页）
- ✅ 用标题创造视觉层次
- ✅ 段落简短，每段2-4句
- ✅ 留白适当，不要把页面塞满
- ✅ 首页用大标题+引言吸引注意

### DON'T（避免）
- ❌ 满屏高亮（丧失重点）
- ❌ 长段不分段（阅读疲劳）
- ❌ 字号过小（<36px 在手机上难读）
- ❌ 无标题的纯文本堆砌
- ❌ 最后一页只有几个字

---

## 📝 AI 辅助格式化模板

当用户提供原始长文时，AI 可按以下步骤处理：

```
1. 分析总字数，估算需要几张卡片
2. 识别核心论点，作为分页依据
3. 添加标题层级（# 主标题, ## 分论点）
4. 标记重点内容（**粗体** 或 ==高亮==）
5. 在适当位置插入 --- 分页符
6. 检查每页字数是否在 120-180 范围内
7. 建议排版参数（字号/行高/段距）
```

### 示例输入
```
很多人问我怎么开始写作，我觉得最重要的是先开始，不要想太多。写作不需要完美，只需要真实。每天写一点，坚持下去，你会发现自己进步很快。
```

### AI 格式化后
```
# 如何开始写作？

很多人问我怎么开始写作，我觉得最重要的是：
**先开始，不要想太多。**

---

## 真实比完美更重要

写作不需要完美，只需要==真实==。

每天写一点，坚持下去，你会发现自己进步很快。
```

---

## 🔧 故障排除

| 问题 | 原因 | 解决方案 |
|------|------|----------|
| 图片不显示 | 图片 Map 未加载 | 刷新页面后重新粘贴 |
| 文字溢出 | 字数过多 | 减小字号或增加分页 |
| 高亮无效 | `==` 未闭合 | 检查是否配对 |
| 分页无效 | `---` 前后有内容 | 确保独占一行 |

---

## 📌 快速参考卡

```
格式：
  粗体 → **文字**
  高亮 → ==文字==
  分页 → ---（独占一行）

排版默认：
  字号 32px | 行高 1.6 | 段距 1.2em

理想字数：
  每页 120-180 字
```
